{erl_opts, [debug_info,
            {parse_transform, lager_transform},
            {parse_transform, ejson_trans}
]}.
{deps, [
    {ejson, {git, "git@github.com:jonasrichard/ejson.git", {branch, "master"}}},
%   Use inaka's client as long as R18 is not supported by basho
%    {riakc, {git, "git@github.com:basho/riak-erlang-client.git", {tag, "2.1.1"}}},
    {riakc, {git, "git@github.com:inaka/riak-erlang-client.git", {branch, "master"}}},
    {lager, {git, "git@github.com:basho/lager.git", {tag, "3.2.0"}}}
]}.

{overrides,
 [
  {override, rebar3_protobuffs_plugin, [{deps, [ {protobuffs, {git, "git://github.com/basho/erlang_protobuffs.git", {tag, "0.8.2"}}}]}]},
  {override, protobuffs, [{deps, []}]},
  {override, riak_pb, [{plugins, [{riak_pb_msgcodegen,
                                   {git, "git://github.com/tsloughter/riak_pb_msgcodegen",
                                    {branch, "master"}}},
                                  {rebar3_protobuffs_plugin,
                                   {git, "git://github.com/cmkarlsson/rebar3_protobuffs_plugin",
                                    {tag, "0.1.1"}}}]},
                       {provider_hooks, [{pre, [{compile, {protobuffs, compile}},
                                                {compile, riak_pb_msgcodegen}]}]}]}
                                                ]
}.
